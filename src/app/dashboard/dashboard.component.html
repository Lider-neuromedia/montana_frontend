<app-header breadcrumbs="Dashboard"></app-header>
<div id="wrapper">
    <div class="opciones">
        <app-menu></app-menu>
    </div>
    <div class="contenido contenido-dashboard">
        <div class="row">
            <div class="col-md-6">
                <app-grafico-bar 
                [chartLabels]="labels"
                [chartData]="data"></app-grafico-bar>
            </div>
            <div class="col-md-6">
                <app-grafico-bar 
                [chartLabels]="labels1"
                [chartData]="data1"></app-grafico-bar>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <table mat-table [dataSource]="dataSource" style="width: 100%;">
                    <ng-container matColumnDef="nombre">
                        <th mat-header-cell *matHeaderCellDef>Nombre</th>
                        <td mat-cell *matCellDef="let cliente">{{cliente.name+' '+cliente.apellidos}}</td>
                    </ng-container>
                    <ng-container matColumnDef="dni">
                        <th mat-header-cell *matHeaderCellDef>Dni</th>
                        <td mat-cell *matCellDef="let cliente">{{cliente.dni}}</td>
                    </ng-container>
                    <ng-container matColumnDef="correo">
                        <th mat-header-cell *matHeaderCellDef>Correo eléctronico</th>
                        <td mat-cell *matCellDef="let cliente">{{cliente.email}}</td>
                    </ng-container>
                    <ng-container matColumnDef="pedidos">
                        <th mat-header-cell *matHeaderCellDef>Pedidos</th>
                        <td mat-cell *matCellDef="let cliente"><button class="btn-link" (click)="getPedido(cliente.pedidos)">{{cliente.pedidos.length}}</button></td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="columns"></tr>
                    <tr mat-row *matRowDef="let row; columns:columns;"></tr>
                </table>
                <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
            </div>
            <div class="col-md-6 mb-3">
            <div class="table-container">
                <table mat-table [dataSource]="pedidosTabla" style="width: 100%;">
                    <ng-container matColumnDef="codigo">
                        <th mat-header-cell *matHeaderCellDef>Código</th>
                        <td mat-cell *matCellDef="let pedido">{{pedido.codigo}}</td>
                    </ng-container>
                    <ng-container matColumnDef="fecha">
                        <th mat-header-cell *matHeaderCellDef>Fecha</th>
                        <td mat-cell *matCellDef="let pedido">{{pedido.fecha}}</td>
                    </ng-container>
                    <ng-container matColumnDef="medio_pago">
                        <th mat-header-cell *matHeaderCellDef>Medio de pago</th>
                        <td mat-cell *matCellDef="let pedido" class="text-capitalize">{{pedido.metodo_pago}}</td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="columnsPedidos"></tr>
                    <tr mat-row *matRowDef="let row; columns:columnsPedidos;"></tr>
                </table>
            </div>
            </div>
        </div>
    </div>
</div>
